<div ng-controller="pCtrl">
    <div ng-include="'view/modalPostagem.html'"></div>
    <section class="yellow darken-2">
        <div class="row">
            <div class="col s12 m4 offset-m4">
                
                    <div class="input-field pesquisa">
                        <input id="search" placeholder="Pesquisar Postagem" type="text" ng-model="buscaP">
                        
                    </div>
            </div>
        </div>
        <div class="row">
            <div class="col s12 m4 center">
                <input type="checkbox" ng-model="selectTodos" ng-change="selecionarTodos(selectTodos)" class="filled-in" id="todos" />
                <label for="todos">Todos</label>
                <button type="button" ng-confirm-click="Deseja excluir as postagens selecionadas?" ng-click="deletarSelecionados()" style="margin-left: 0.5em" class="black btn waves-effect waves-light">
                    <i class="material-icons">delete</i>
                </button>
            </div>
            <div class="col s12 m4 center">
                <ul class="pagination">
                    <li class="disabled">
                        <a href="#!">
                            <i class="material-icons">chevron_left</i>
                        </a>
                    </li>
                    <li class="active yellow darken-4">
                        <a href="#!">1</a>
                    </li>
                    <li class="waves-effect">
                        <a href="#!">2</a>
                    </li>
                    <li class="waves-effect">
                        <a href="#!">3</a>
                    </li>
                    <li class="waves-effect">
                        <a href="#!">4</a>
                    </li>
                    <li class="waves-effect">
                        <a href="#!">5</a>
                    </li>
                    <li class="waves-effect">
                        <a href="#!">
                            <i class="material-icons">chevron_right</i>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="col s12 m4 center">
                <a href="#/nova-postagem" type="button" class="white yellow-text btn waves-effect waves-light">Nova postagem</a>
            </div>
        </div>
    </section>
    <section>
        <div class="row">
            <div class="col s12">
                <ul class="collection">
                    <li class="collection-item" ng-repeat="p in postagens| filter:buscaP">
                        <div class="row" style="margin-top:5px;margin-bottom:5px">
                            <div class="col s8">
                                <span>
                                    <input type="checkbox" ng-model="p.selecionado" class="filled-in" id="p_{{p.id}}" />
                                    <label for="p_{{p.id}}"></label>
                                    <span style="font-size: 1.5em">{{p.titulo}} - {{p.created_at| mydatetime:'dd/MM/yyyy'}}</span>
                                </span>
                            </div>
                            <div class="col s4">
                                <button type="button" ng-confirm-click="Deseja excluir a postagem?" ng-click="deletar(p.id)" modal style="margin-left: 0.5em" class="right black btn btn-floating waves-effect waves-light">
                                    <i class="material-icons">delete</i>
                                </button>
                                <a href="#/edit-postagem/{{p.id}}" class="right btn btn-floating waves-effect waves-light yellow">
                                    <i class="material-icons">create</i>
                                </a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </section>
</div>